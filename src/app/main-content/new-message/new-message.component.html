<div class="container">
    <app-header-mobile></app-header-mobile>

    <div class="mdc-card">
      <h1 class="h1">Neue Nachricht: </h1>
      <div class="channel-box">
        <div class="selected-users-container">
          <input type="text" id="input" class="input-field" name="selectedUser" placeholder="Leute suchen" (click)="toggleInputField('searchPeople')" autocomplete="off"
          />
        </div>
        <div id="add-member" class="add-member" *ngIf="showAddMember">
          <div class="scroll">
            <h1>Channels:</h1>
            @for (channel of this.firestore.channelList; track $index) {
                <div class="pf">
                  <span class="channel-tag">#</span>
                  <span>{{ channel.name }}</span>
                </div>
               }
              <h1>Users:</h1>
            @for (user of this.firestore.getUsers(); track $index) {
              <div class="channel-name pl-7" >
                <img src="{{ user.avatar }}" />
                <img
                  *ngIf="user.isOnline"
                  src="./assets/img/characters/online.svg"
                  alt="Online"
                  class="online-avatar"
                />
                <img
                  *ngIf="!user.isOnline"
                  src="./assets/img/characters/offline.svg"
                  alt="Offline"
                  class="offline-avatar"
                />
                <div class="space-between">
                  <span
                    >{{ user.displayName }}
                    <span *ngIf="user.id === this.authService.activeUserId">(Du)</span>
                  </span>
                </div>
              </div>
            }


          </div>
        </div>
      </div>
    </div>

    <div class="content">
      <div
        class="message-content"
        #messageContent
        style="overflow-y: scroll; height: 100%"
      >
        @for (chat of this.firestore.channelMessages; track
        chat.id) {
          <app-conversation
            [channelMessage]="chat" [isChannel]="false" [isThread]="false"
          ></app-conversation>
        }
      </div>
    </div>


    <app-text-box [textBoxData]="textBoxData"></app-text-box>

    <div id="overlay3" class="overlay" (click)="closeOverlay('overlay3')">
      <div class="overlay-profil">
        <div class="profile-icon">
          <img src="./assets/img/icon/account_circle.svg" alt="" />
          <p class="no-margin">Profil</p>
        </div>
        <div class="profile-icon">
          <img src="./assets/img/icon/logout.svg" alt="" />
          <p class="no-margin">Log out</p>
        </div>
      </div>
    </div>
  </div>
